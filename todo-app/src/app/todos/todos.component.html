


<div class="container">
    <div class="row vh-100 align-items-center">
        <div class="col-xxl offset-xl col-lg">
            <div class="rounded-5 border-0 shadow-lg bg-white" style="min-height: 600px;">
                <div class="d-flex justify-content-start align-items-center">
                    <div class="p-5 w-100">
                        <h6>Add a new activity:</h6>
                        <div class="add_todo">
                            <input [(ngModel)]="newTodoTitle" (keyup.enter)="addTodo()"  class="rounded-4" style="background-color:rgb(240, 236, 231);" />
                            <button (click)="addTodo()" class="btn btn-success rounded-4">Add</button> 
                        </div>
                        <ul class="todos">
                            @for (todo of todoItems(); track todo.id) {
                            <li class="todo_item"  appHighlightCompletedTodo  [isCompleted]="todo.isDone" >
                                
                                <input type="checkbox" [checked]="todo.isDone" (change)="updateToDo(todo)"/>

                                <!-- Mostra il campo di input solo se il To-Do è in modalità modifica -->
                                <input *ngIf="editTodoId === todo.id" [(ngModel)]="todo.title" (keyup.enter)="saveTodoTitle(todo)" class="form-control" />

                                <!-- Mostra il titolo come label quando non è in modalità modifica -->
                                <label *ngIf="editTodoId !== todo.id && todo.title !== ' '" (click)="editTodoTitle(todo)" > {{todo.title}} </label>

                                <!-- Bottone Salva visibile solo in modalità modifica -->
                                <button *ngIf="editTodoId === todo.id" (click)="saveTodoTitle(todo)" class="btn btn-success" id = "saveButton">Save</button>
                                
                                <button (click)="deleteTodo(todo.id)"><i class="bi bi-x"></i></button>
                                
                            </li> 
                            
                            }
                            
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


